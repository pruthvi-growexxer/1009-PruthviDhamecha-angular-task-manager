<div class="container">
  <form [formGroup]="registerForm" class="register_form">
    <h1>Welcome!!!</h1>
    <p>Enter your details to register.</p>

    <div class="input-wrapper">
      <input id="name" type="text" class="rounded form-control" formControlName="name" required/>
      <div
        *ngIf="
          registerForm.get('name')?.invalid &&
          registerForm.get('name')?.errors &&
          (registerForm.get('name')?.dirty || registerForm.get('name')?.touched)
        "
      >
        <small
          class="text-danger"
          *ngIf="registerForm.get('name')?.hasError('required')"
        >
          This field is required.
        </small>
        <small
          class="text-danger"
          *ngIf="registerForm.get('name')?.hasError('minlength')"
        >
          The minimum length for this field is
          {{registerForm.get('name')?.errors?.['minlength'].requiredLength}}
          characters.
        </small>
      </div>
    </div>

    <div class="input-wrapper">
      <input id="name" type="email" class="rounded form-control" formControlName="email" required/>
      <div
        *ngIf="
          registerForm.get('email')?.invalid &&
          registerForm.get('email')?.errors &&
          (registerForm.get('email')?.dirty || registerForm.get('email')?.touched)
        "
      >
        <small
          class="text-danger"
          *ngIf="registerForm.get('email')?.hasError('required')"
        >
          This field is required.
        </small>
        <small
          class="text-danger"
          *ngIf="registerForm.get('email')?.hasError('pattern')"
        >
          Please enter valid email address!
        </small>
      </div>
    </div>

    <div class="input-wrapper">
      <input id="password" type="password" class="rounded form-control" formControlName="password" required />
      <div *ngIf="registerForm.get('password')?.invalid &&
            registerForm.get('password')?.errors &&
            (registerForm.get('password')?.dirty || registerForm.get('password')?.touched)">
        <small class="text-danger"
            *ngIf="registerForm.get('password')?.hasError('required')">
            This field is required.
        </small>
        <small class="text-danger"
            *ngIf="registerForm.get('password')?.hasError('PasswordValidator')">
            Password Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters.
        </small>
      </div>
    </div>

    <div class="input-wrapper">
      <input id="confirmpassword" type="password" class="rounded form-control" formControlName="confirmpassword" (ngModelChange)="cpw()" required />
      <div *ngIf="(registerForm.get('confirmpassword')?.invalid || registerForm?.errors?.['misMatch']) &&
            (registerForm.get('confirmpassword')?.errors || registerForm?.errors?.['misMatch']) &&
            (registerForm.get('confirmpassword')?.dirty || registerForm.get('confirmpassword')?.touched)">
        <small class="text-danger"
            *ngIf="registerForm.get('confirmpassword')?.hasError('required')">
            This field is required.
        </small>
        <small class="text-danger"
            *ngIf="registerForm.get('confirmpassword')?.hasError('PasswordValidator')">
            Confirm Password Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters.
        </small>
        <small class="text-danger"
        *ngIf="registerForm?.errors?.['misMatch']">
          Confirm password should be same
      </small>
    </div>
    </div>

    <div class="input-wrapper">
      <input id="age" type="text" class="rounded form-control" formControlName="age" required />
      <div *ngIf="registerForm.get('age')?.invalid &&
            registerForm.get('age')?.errors &&
            (registerForm.get('age')?.dirty || registerForm.get('age')?.touched)">
        <small class="text-danger"
            *ngIf="registerForm.get('age')?.hasError('required')">
            This field is required.
        </small>
        <small class="text-danger"
            *ngIf="registerForm.get('age')?.hasError('pattern')">
            Age must be between 18 and 60.
        </small>
      </div>
    </div>

    <div>
      <button type="submit" class="btn btn-primary" [disabled]="!registerForm.valid" (click)="onRegister()">
        Sign in
      </button>
    </div>

    <div class="mt-3">
      <p>Already a member? <a [routerLink]="['/login']">Login</a></p>
    </div>
  </form>
</div>
